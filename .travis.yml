language: java
cache:
  directories:
  - "$HOME/.m2"
jdk:
- oraclejdk8
sudo: required
services:
- docker
notifications:
  slack:
    secure: HAkVJBgThf2WBBz7LQtf+aRQd41sWNibfNWgjLMcMFk0wuTs3RDkE8KK0Jxe5MRmdg2GGU6LLoeD5miRdsgQ15gpAKYgy8S8vM6MYN15uk5Ky1kNvjeSICIxxdjDPKBYyU5sx/2KtqZcNQNsTwHUmF3Tw5V5dOCUYlQ3KrOSlck6j80sPs+McVyvma2uN1ewL7qDSf4AHOW7yycxXCZeHJvwtyPO9AT9HKOerDi/cu9PewpGNd6KW2WmKj+1SkQnEi3wYcD673ZyV3OXxorGUCPzA/Sen2dixJ2ONqc4EosF5mPnTFXwdWTAkvY4u8c5xonCcNrgkzuz6Hew0VAs9ozj6A3KULt6ZLEeKmTE8JB5GA10vdf+w9R7YC2CTjLY1SUrtHNbjKgV7VhKcqZ1oa0cX0B/HpxmfYQlyBU1LGLXfuSsbg3DMVwWP8qCmNHSD9qhsU+xgSAXpkP3v7vWbJpF/H0q+LC0UicZez5kh62xjR1RcEioWjKgdMOw4aSOnYH7Js8qLyiueeB5uCSUOZDlZ/QRg05wNvigyDHJrBk6EUhlgSHwpCVQ4ihM3YAvrwZNvHQE8EmsGvj49aGKDqF7fteiSEEdRyQq8eXC17NQnj4qpv2IhtdPquUVdZ/pM0wRlXdKPoPpXGy0mp/KJ1y9oSiqaYoGRhp1qOuivkQ=
  email:
  - anthony.denecheau@gmail.com
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
  - secure: GaTlLclC3iBX3xeOEEqP5EMzBn01veyFlArCDQl6BML5fHGsqljidvVvfFlMJIXfek5M1qUuoBhOHoFly1jFmJ31tXMfTyXuYXSa6J7Bb0Gt4bBtLP5rjOhtUAQIAU3Gz4mx9QGkSO6oB4lv9eBraqZCc7m3MquIazXtbAgMROr/bLgX1Tv9zNRrzKgwLKVfG3HCk4DuBSqZGGMSd8Mp6Mp9d3SK6Ba1oiS3tAgUvyYkfU3ZicYhnbsNS+aR6SP5PiWku/s9YHDuSTbLF9+V03VZMiMZYEkuqxcHd3SvdiaJPIbdN1iCii49DEFoKKMqKoBfcJNPyd8UkkkPhxSpZlwD61ApDkNPZaEC7lqaP2sQoRgdtT5kc+OeHcShLbEuLJIhCfoyIROZQC5Pb8pGZixNErA/8kewXpHfXdFrzl3m0W4q1ezN8S/WmD9Y7cBa+cY+YhlicknZSrlueGGtdQ7f/uLQfZ6f/iX0gXCnuG7/BX2JUPX/j0D6LD4Cyfi+mFhIfERBw4FqawrQ8opkuo+RqtVywvxf0FHUmDMK5fbiXSD2ZCa+Byo7D7BHtBoMlH79YWiu8fQaOXWld5UyWWYATBMtXG4p+jJfaA4Q+eAv4nLn2VR74iuu1yKVhIwwJwB6VeUrSv0wKHsBZ5bTxCHTmLOUm/rRbB5UX5iLUtI=
  - secure: X+ml0dwrZQCyhkav8wJp79YxxsqTY+RTsML9clAnt61SsQj7FfU5plVwDSxsev17ASA62oFhT06e7FbqDWhjDxGPj0oA7KbTPRXBZlbOkPDvIPZqHEu82lhjsZiH677F8OpXBjfmMERVBGmxbAAd5T08JlbruQ03BoXuzbJBY0gSFCq6KmdB52aT382yUGixLUSCu/Jvr+1innodC87MttS3I/wWdDYGV5s0gEdJ/79IpjY/2ckQJJlfOk500O5kCHDTK9E/xhsmT9Hm93WV3+nePwS9IeFAI7WZziSiOJV3bYhyWV69hqX2JxqLac6dPwyrjlF9O+rlRtEByynb5uN6OmHh96cdzbs26MPl1E67CJcPOu55uKPK5kqo52Ssi4ew6yrnbgBQBE3lNI0XJ6zJsdR7byYOc1Mp/IhFlhnAuJdPCMJDlQ/SjASrpUvs/VCd580kOfrwZIBIUfGR8/Nr4hI3hoWNkI8P0T8VqCY5EltR0KY5Jl9hVJH6CypmAtpxleWoPnl8h+G9Zxdxlv7YkR2zO3JpFjv67Pft/euuHnrnGvpEM/28M+gYplL2pFhCY1JeKtSl463MgHL64YXInf7e1zC1UeC7n+1vnj2kG/Pa9QfpcWZAaHVA9UQkndlylAGw4ZNZIYnemiMBV2JgieLbNch/vKyH/CGoZmE=
  - secure: pKh9rO9GNd/C6DQ9CLpzB4DuBA3n/kn6VdRYrVqH8XqRoGO5fKZjYlQqFRgTU2JOLAmS/I3dhqVi703z74RSgTl6hr8VPnhXkROl2nwTFLOeoL+PnkRaJ4EFk5KUrdqqLona1mq0yTi/iiOs8quqhGbnPC3pxaIHfHjaORG3YTxOBdvsY6zl6tfxQViLcWEseJ6gM69GZY7rpPohv/CfrQf4dTTKuVt1Ux4K4W9tzFDp5MRa4ra9oLagurlSV/YSbagz+EJzsw6x6Sv7DD/mCGpaW/e9JA/xcSp3BZZrKBCYxPQuUcsx8e3r+2n5IKwNeJ+/6DMnrhvGSglPREtK4MJsZIyBjIgZCjlCXSHm6AMDEiMuEFTyMntrbdDE9KMtYo0qr0C3XluGkktH9+xXyCQZR4bWKm02vksaXFZrAc7MXfkSOqM1yHyJXsmJFsnaLM+yrBUuWAw2l3ShN9SOrWa+qYtsQxaaLtHpwMHdJdusRNWNgKE+U6iF25VSyoRbIqxA0u3rys9an8IGX6fJjNGT4BHhrpY/gmH9WHf39599jKQDtShTol3Sh9pYUHFdCjLVFju2FFvj2dhgTGVTlXotQjHCircxiHqDKy2an809De44ftHXsOqoYxIlrMYX2FdJ81MXGtlfmpGHCPtEEeoAjW+X1hgod1XuCHxY7RM=
  - secure: Kpza4OzzjsQAxFmHC+cx4BPu5MyX21/SNITv0Y+EOYy0U0ZjWDUSUn2Xn8XcYvhJLbx+MEIeyCa21KU32UWS2esKT8oNQABI5Y/qDT0HloXz9bJzaAdZ7db626Zy4VerX6op2l2/zEn6BS7EYhLYQXEzt8MpNGIeR7csjOTTJKjzSukbcrdRjV/eNdiA/wQd6fuHhAJTC4uaGj6NK8Xna63k1P2oJRT2tx3Ql3mkOTJDAugD+KoN6Lq0akFlExapU80rPly9mrtRpEZMJQvIrnuDTukV7IIQBoXsCrqtmtINlykKUIIS+qKmAPqeitQjVE7a+85IDVY8hDi1P6bOfxCV7e9/ThG59eBvTg65/+ZkapLRdd/VABAPv+O7lDVtyTzwRil7bVs3cFBs2GUbMWA0kJ6g/GiuBDtj63DetMFTHvr4F4Zqd1JV8iNGdqlXQE2XMs6KNFA0mHUtIKxA4sLts4daayZIFI5y1mL+7TQhMYd/fQYnmM9AOn/lRRuJ8gFH+Zmf95W76nYBGY6M6Yd00azY5Hl+G+CEx7wdTzUFJg96fEiPGO6+V2ST+cZPmYMepKh4jkLFUZa0j9/rjUkH1+sREPj0er0nFqg6u6eIjwX/v1h0/5Tqi6vZnDIFhHqmfzvQ4zlb2fqHYH5cXP8CRi0EvdgEtcU5xh+KaSs=
  - secure: MJEECM686aZNLpFJ5FQBPMyB+uaZ7PeW2MaLwgFWcq2s12eKgEHup92CoSCO/P+VXExJv/4N0W8KPWSCG5nEXb4vBksFudUpXxzm4XpB3p/693CdSVnAoAmfHeIR6VOrf/qpiez4XlHS9nrIm1jPDT4dM4XKhD+kMdfkPIaS+hVEN1L9M37AW6jklSaUDWbJ6VSawxDu7E8Fxp1kM4Gfya6x1uFQozPah6DRLKBb5uLngp8wPYZdzmge4Efzpc61fjEru/0Rt8yL/uECxLHrxl5AIf7h+IRe9s1hw8EhFO1VqSRn0Scl0bJvULf6pmjUXMLNppb1AvWsoZuL+/qJfjN5pnxO3wAOnZchOtVVjLiViNICsIrW9VJUmJ8tBKw7Cfg+6Xyea2gmIsF663kuDPZ7KV44fpSppytPnlMTbtJlpibxJXJAJ2RxPpyhZuLriyYvCYOutD6v527SiWbhqWBpqbGOwmQFNVAKQgBqh64c8lLzsDOFWrXwBdlL4mRLyWodF7Cq4lKJzmK2oBH1lDX9WoWpqeMX3IsPXirr1vupYQWva3HsVFk33zZhIIv5XUFY8HVC5UhyGQBLq92n2OgkuH+EKE9KBlkYWHyY/VGpSS9jsgjPQDgIE5SFkpPYvyR2UjJ69/NG6gXYcox7vG7aNu8DtU70gQ/C6rZpNKc=
  - secure: OiIgyqK1qJzt7V0gO6aeEcsKpR6WAz+twLnj67HZSe/4Ss6mS4wa9hRmCbMjgmJeoXEEFhYC1fZInHNea0MAUJ97en7n1Pzl6mIT5DEpIcqsbb9uW2vGbXseNSm1ym/N7LmhycoO/VDrdo0rRf6CPRnUi8gIG7hiwCK7G4dAJSV3IZDe745P8kK3j1b1GIPehI1lPtBpo7/91ItEZOZ1LmWTfT0JzGs/FuXabB8CSf45zmsbUNG5MJtI6ADy3/8Y+J7+hgoEdg3wBhSMLhZXYZSQmcN8mGwlDZA6NCgVgluW10X3n7AuW4kyT4DrAeLZaw3pT8KsE4/d0juflWuXzGUY3C2Vs+JRnqSytj1E7mTrUSyhuQ7+Yrzh0AcYp3nMQQlnmQ2drp7GgQdHK0rl/MQLGCd7+nIqwejLHwNxI5C+zB0rqsMkJDzQJK4xeoSpM+l4Oq4ugsbS/mrt6UeqDl8/KN612hfpqZJGpUbVqrVNWF1vMyaUTBAxS7tRlC0mWXXk2IT2ymXA0DLGytz5xLgLtz+3chdDqJzkjialwCzo5Yk3vn+byhLrzaZ+oag8+Lohb3OosR31j5pi9+kTJcSP7l9x6Lpcl2UeZlwLDRHAPmYgZOaKIbU28a6OVWq+NTmGTpynB7HQVIzvk0P9iohztCPvfDt0klZfTkHjsJw=
before_install:
- gem install travis -v 1.8.5 --no-rdoc --no-ri
- sudo curl -k -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest
- sudo chmod +x /usr/local/bin/ecs-cli
- export BUILD_NAME=eurekasvr-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
script:
- sh scripts/travis/tag_build.sh
- sh scripts/travis/build_services.sh
- sh scripts/travis/deploy_to_docker_hub.sh
- sh scripts/travis/deploy_to_amazon_ecs.sh
